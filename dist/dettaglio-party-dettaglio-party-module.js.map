{"version":3,"sources":["./src/app/views/anagrafiche/parties/dettaglio-party/dettaglio-party.component.html","./src/app/views/anagrafiche/parties/dettaglio-party/dettaglio-party-routing.module.ts","./src/app/views/anagrafiche/parties/dettaglio-party/dettaglio-party.component.scss","./src/app/views/anagrafiche/parties/dettaglio-party/dettaglio-party.component.ts","./src/app/views/anagrafiche/parties/dettaglio-party/dettaglio-party.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,wYAAyU,qIAAqI,gBAAgB,+lFAA+lF,SAAS,oBAAoB,UAAU,8V;;;;;;;;;;;;;;;;;;;;;ACA1kG;AACc;AAEV;AACQ;AACe;AAGpE,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,IAAI,EAAE;YACJ,KAAK,EAAE,iBAAiB;SACzB;QACD,QAAQ,EAAE;YACR;gBACE,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,kFAAuB;gBAClC,IAAI,EAAE;oBACJ,KAAK,EAAE,EAAE;oBACT,KAAK,EAAE,CAAC,iDAAS,CAAC,eAAe,EAAE,iDAAS,CAAC,eAAe,EAAE,iDAAS,CAAC,0BAA0B,CAAC;iBACpG;gBACD,WAAW,EAAE,CAAC,yDAAe,CAAC;aAC/B;YACD;gBACE,IAAI,EAAE,iBAAiB;gBACvB,YAAY,EAAE,GAAG,EAAE,CAAC,wbAA8D,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC;aACrH;YACD;gBACE,IAAI,EAAE,cAAc;gBACpB,YAAY,EAAE,GAAG,EAAE,CAAC,kUAAgE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,sBAAsB,CAAC;aACzH;YACD;gBACE,IAAI,EAAE,mBAAmB;gBACzB,YAAY,EAAE,GAAG,EAAE,CAAC,yeAAgE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,sBAAsB,CAAC;aACzH;SACA;KACJ;CACF,CAAC;AAMF,IAAa,2BAA2B,GAAxC,MAAa,2BAA2B;CAAI;AAA/B,2BAA2B;IAJvC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,2BAA2B,CAAI;AAAJ;;;;;;;;;;;;;AC5CxC;AAAe,6GAA8C,uM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAM;AAEA;AACM;AACT;AACI;AACF;AACJ;AACM;AACzB;AACmB;AAClB;AACV;AACa;AACiB;AAGyC;AAIrC;AACC;AAQrE,IAAa,uBAAuB,GAApC,MAAa,uBAAwB,SAAQ,gFAAsB;IAY/D,YACY,MAAc,EACZ,YAA0B,EAC1B,cAA8B,EAC9B,eAAgC,EAChC,WAAwB,EAC1B,YAA0B,EAC1B,WAAwB,EACtB,cAA8B,EAChC,WAAwB,EACxB,WAAwB,EACxB,YAA0B,EACxB,KAAqB,EACrB,cAA8B;QAExC,KAAK,CAAC,YAAY,EAAE,cAAc,EAAE,eAAe,EAAE,WAAW,EAAE,cAAc,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;QAdjG,WAAM,GAAN,MAAM,CAAQ;QACZ,iBAAY,GAAZ,YAAY,CAAc;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,gBAAW,GAAX,WAAW,CAAa;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACtB,mBAAc,GAAd,cAAc,CAAgB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,iBAAY,GAAZ,YAAY,CAAc;QACxB,UAAK,GAAL,KAAK,CAAgB;QACrB,mBAAc,GAAd,cAAc,CAAgB;QApB5C,mBAAc,GAAG,KAAK,CAAC;QACvB,mCAA8B,GAAG,KAAK,CAAC;QACvC,4BAAuB,GAAG,KAAK,CAAC;QAChC,2BAAsB,GAAG,KAAK,CAAC;QAE/B,WAAM,GAAY,KAAK,CAAC;IAkBxB,CAAC;IAED,QAAQ;QACJ,IAAI,CAAC,YAAY,EAAE,CAAC;QAEpB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACtC,MAAM,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;YAChF,IAAI,CAAC,CAAC,qBAAqB,EAAE;gBACzB,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;gBACjD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAC;aAClG;iBAAM;gBACH,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEO,YAAY,CAAE,OAAe;QACjC,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;QAC5D,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QAC5D,MAAM,uBAAuB,GAAG,IAAI,CAAC,YAAY,CAAC,8BAA8B,CAAC,OAAO,CAAC,CAAC;QAC1F,MAAM,KAAK,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,uBAAuB,CAAC,CAAC;QAE5D,sDAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAChB,2DAAG,CAAE,GAAG,CAAC,EAAE;YACP,IAAI,CAAC,KAAK,GAAW,GAAG,CAAE,CAAC,CAAC,CAAC;YAC7B,MAAM,KAAK,GAAa,GAAG,CAAE,CAAC,CAAC,CAAC;YAChC,MAAM,oBAAoB,GAA4B,GAAG,CAAE,CAAC,CAAC,CAAC;YAE9D,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAG;gBAC9B,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;aACjC;YACD,IAAI,CAAC,CAAC,oBAAoB,IAAI,oBAAoB,CAAC,MAAM,GAAG,CAAC,EAAG;gBAC5D,IAAI,CAAC,iCAAiC,CAAC,oBAAoB,CAAC,CAAC;aAChE;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,CAAC,EACF,kEAAU,CAAC,CAAC,KAAK,EAAE,EAAE;YACjB,OAAO,CAAC,GAAG,CAAE,sBAAsB,EAAE,KAAK,CAAC,CAAC;YAC5C,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO,gDAAE,CAAC,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC,CACL,CAAC,SAAS,EAAE,CAAC;IAClB,CAAC;IAEO,iBAAiB;QACrB,MAAM,IAAI,GAAG;YACT,CAAC,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,QAAQ,EAAG,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,uBAAuB,CAAC,CAAC;YAChK,CAAC,IAAI,CAAC,qBAAqB,CAAC,YAAY,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;YAC/I,CAAC,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,gCAAgC,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,SAAS,CAAE,CAAC;YACrL,CAAC,IAAI,CAAC,qBAAqB,CAAC,yBAAyB,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,qBAAqB,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,oBAAoB,CAAC,CAAC;YACnM,CAAC,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,cAAc,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,qBAAqB,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC;YAC9K,CAAC,IAAI,CAAC,qBAAqB,CAAC,6BAA6B,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,WAAW,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,2BAA2B,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;YACpL,CAAC,IAAI,CAAC,qBAAqB,CAAC,6BAA6B,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,iBAAiB,CAAC,EAAE,IAAI,CAAC,qBAAqB,CAAC,oBAAoB,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,EAAE,mBAAmB,CAAC,CAAC;SACpM,CAAC;QAEF,IAAI,CAAC,cAAc,GAAoB;YACnC,YAAY,EAAE,CAAC;YACf,IAAI,EAAE,IAAI;SACb,CAAC;QAEF,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAChC,IAAI,CAAC,uBAAuB,GAAI,IAAI,CAAC,SAAS,CAAC;YAC/C,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,SAAS,CAAC;SAChD;QAED,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,IAAI,2DAAa,CAAC,IAAI,EAAE;YACnD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACtB;IACL,CAAC;IAEO,iBAAiB,CAAC,KAAc;QACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QACzC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3E,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC/B,CAAC;IAEO,iCAAiC,CAAC,KAA6B;QACnE,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QACzD,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,WAAW,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,kCAAkC,EAAE,CAAC;QAC1G,IAAI,CAAC,0BAA0B,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3D,IAAI,CAAC,8BAA8B,GAAG,IAAI,CAAC;IAC/C,CAAC;IAEO,IAAI,CAAE,KAA6B;QACvC,MAAM,YAAY,GAAG,EAAE,CAAC;QACxB,KAAK,CAAC,OAAO,CAAE,CAAC,CAAuB,EAAE,EAAE,CAAC,YAAY,CAAC,IAAI,mBAAO,CAAC,CAAC,KAAK,IAAE,cAAc,EAAE,CAAE,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,mBAAmB,EAAE,CAAE,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,IAAE,CAAC,CAAC;QACrO,OAAO,YAAY,CAAC;IACxB,CAAC;IAEO,eAAe;QACnB,OAA2B;YACvB,SAAS,EAAE,YAAY;YACvB,WAAW,EAAE;gBACT,SAAS,EAAE,EAAE;gBACb,kBAAkB,EAAE,EAAE;gBACtB,aAAa,EAAE;oBACX,QAAQ,EAAE,IAAI;iBACjB;gBACD,OAAO,EAAE;oBACL,eAAe,EAAE,IAAI;iBACxB;gBACD,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE;aAChD;YACD,OAAO,EAAE,EAAE;YACX,UAAU,EAAE,IAAI;YAChB,mBAAmB,EAAE,IAAI;YACzB,UAAU,EAAE,IAAI,CAAC,mBAAmB,EAAE;YACtC,eAAe,EAAE,KAAK;YACtB,eAAe,EAAE,KAAK;YACtB,qBAAqB,EAAE,KAAK;YAC5B,wBAAwB,EAAE,KAAK;SAClC,CAAC;IACN,CAAC;IAEO,mBAAmB;QACvB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QACnD,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,GAAG,GAAG,CAAC,EAAE,CAAE,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAE,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;IACzJ,CAAC;IAEO,kCAAkC;QACtC,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QACnE,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,iBAAiB,GAAG,GAAG,CAAC,EAAE,CAAE,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAE,IAAI,CAAC,0BAA0B,CAAC,WAAW,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;IACzM,CAAC;IAEO,mBAAmB;QACvB,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,OAAQ;YACJ,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK,EAAgB,KAAK,EAAE,KAAK,EAAsB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YAClL,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,gBAAgB,EAAK,KAAK,EAAE,eAAe,EAAY,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YAClL,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,OAAO,EAAc,KAAK,EAAE,uBAAuB,EAAI,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YAClL,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,aAAa,EAAQ,KAAK,EAAE,aAAa,EAAc,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YAClL,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,YAAY,EAAS,KAAK,EAAE,aAAa,EAAc,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YAClL,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK,EAAgB,KAAK,EAAE,KAAK,EAAsB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YAClL,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,eAAe,EAAM,KAAK,EAAE,cAAc,EAAa,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,IAAI,EAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YACrQ,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,eAAe,EAAM,KAAK,EAAE,cAAc,EAAa,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,IAAI,EAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,CAAC,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YACrQ,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,mBAAmB,EAAE,KAAK,EAAE,WAAW,EAAgB,MAAM,EAAE,IAAI,EAAG,QAAQ,EAAE,IAAI,EAAG,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,IAAI,EAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YAClQ,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,iBAAiB,EAAI,KAAK,EAAE,SAAS,EAAkB,MAAM,EAAE,IAAI,EAAG,QAAQ,EAAE,IAAI,EAAG,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,CAAC,IAAI,EAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,KAAK,EAAC,EAAC;YAChQ,EAAC,KAAK,EAAE,CAAC,KAAK,GAAG,KAAK,EAAE,CAAC,EAAE,UAAU,EAAE,QAAQ,EAAa,KAAK,EAAE,EAAE,EAAyB,SAAS,EAAE,IAAI,EAAE,qBAAqB,EAAE,oHAA4B,EAAE,kBAAkB,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,2BAA2B,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,aAAa,EAAE,EAAC,UAAU,EAAE,IAAI,EAAC,EAAE,QAAQ,EAAE,GAAG,EAAC;SACrT,CAAC;IACN,CAAC;IAEO,2BAA2B,CAAC,IAAI;QACpC,MAAM,YAAY,GAAiB;YAC/B,KAAK,EAAE,6BAA6B,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;YAC7D,UAAU,EAAE,gDAAgD;YAC5D,MAAM,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,CAAC,YAAY,EAAC;YACrE,OAAO,EAAE,IAAI;YACb,UAAU,EAAG,IAAI,CAAC,cAAc,CAAC,YAAY;SAChD,CAAC;QAEF,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;YACnN,YAAY,GAAiB;gBACzB,KAAK,EAAE,oCAAoC,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;gBACpE,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC;gBAC7F,MAAM,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,sBAAsB,EAAE,IAAI,CAAC,SAAS,EAAE,WAAW,EAAE,EAAE,EAAC;gBAChJ,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;gBACjC,UAAU,EAAG,IAAI,CAAC,6BAA6B;aAClD,CAAC;SACL;QAED,OAA2B;YACvB,YAAY,EAAE,YAAY;YAC1B,YAAY,EAAE,IAAI;YAClB,YAAY,EAAE,YAAY;SAC7B,CAAC;IACN,CAAC;IAED,4BAA4B,CAAC,KAAK;QAC9B,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,EAAE,qBAAqB,CAAC,CAAC,CAAC;QACvF,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,iCAAiC,CAAC,KAAK;QACnC,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;QAC3E,MAAM,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACzB,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,oBAAoB;QAChB,MAAM,KAAK,GAAG,wDAAwD,CAAC;QACvE,MAAM,qBAAqB,GAAG;YAC1B,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE;YACtB,SAAS,EAAE,IAAI;YACf,SAAS,EAAE,mDAAmD;YAC9D,WAAW,EAAE,EAAE;SAClB,CAAC;QACF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,oBAAoB,EAAE,qBAAqB,CAAC,CAAC;QAClE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;IACtC,CAAC;IAED,gBAAgB;QACZ,MAAM,iBAAiB,GAAG,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,WAAW,EAAE,EAAE,EAAC,CAAC;QACpE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EAAC,CAAE,CAAC;QAC7E,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;QAC/D,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;QACzF,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC;IACtC,CAAC;CACJ;;YA3NuB,sDAAM;YACE,oEAAY;YACV,wEAAc;YACb,yDAAe;YACnB,qDAAW;YACZ,qEAAY;YACb,kEAAW;YACN,wEAAc;YACnB,0DAAW;YACX,mEAAW;YACV,4DAAY;YACjB,8DAAc;YACL,yEAAc;;AAzBnC,uBAAuB;IALnC,+DAAS,CAAC;QACP,QAAQ,EAAE,qBAAqB;QAC/B,2QAA+C;;KAElD,CAAC;2EAcsB,sDAAM;QACE,oEAAY;QACV,wEAAc;QACb,yDAAe;QACnB,qDAAW;QACZ,qEAAY;QACb,kEAAW;QACN,wEAAc;QACnB,0DAAW;QACX,mEAAW;QACV,4DAAY;QACjB,8DAAc;QACL,yEAAc;GAzBnC,uBAAuB,CAwOnC;AAxOmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BK;AACM;AAEgC;AAEf;AACsB;AACV;AACT;AACsC;AACrC;AAC+B;AAC/B;AACS;AAsB7E,IAAa,oBAAoB,GAAjC,MAAa,oBAAoB;CAAI;AAAxB,oBAAoB;IAnBhC,8DAAQ,CAAC;QACR,YAAY,EAAE,CAAC,mFAAuB,CAAC;QACvC,OAAO,EAAE;YACP,4DAAY;YACZ,2FAA2B;YAC3B,kFAAmB;YACnB,kEAAmB;YACnB,6DAAc,CAAC,OAAO,EAAE;YACxB,kEAAmB;YACnB,0DAAW;YACX,sFAAkB;YAClB,6EAAe;YACf,gEAAiB,CAAC,cAAc,CAAC;gBAC/B,mHAA4B;aAC7B,CAAC;YACH,+DAAgB,CAAC,OAAO,EAAE;YACzB,6GAAyB;SAC1B;KACF,CAAC;GACW,oBAAoB,CAAI;AAAJ","file":"dettaglio-party-dettaglio-party-module.js","sourcesContent":["export default \"<div class=\\\"animated fadeIn\\\">\\r\\n    <div class=\\\"card card-accent-primary shadow\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n            <strong><i class=\\\"fas fa-info-circle\\\"></i> Dettaglio Party </strong>\\r\\n        </div>\\r\\n        <div class=\\\"card-body\\\">\\r\\n            <ng-container *ngIf=\\\"!(showSpinner$ | async); else waiting\\\">\\r\\n\\r\\n                <div class=\\\"alert alert-danger\\\" role=\\\"alert\\\" *ngIf=\\\"isError\\\">\\r\\n                    {{ messageError }}\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"alert alert-success\\\" role=\\\"alert\\\" *ngIf=\\\"isResultOk\\\">\\r\\n                    Operazione correttamente effettuata.\\r\\n                </div>\\r\\n\\r\\n\\r\\n                <div class=\\\"card\\\" *ngIf=\\\"!!infoPanelModel\\\">\\r\\n                    <div class=\\\"card-header\\\">\\r\\n                        <strong><i class=\\\"fal fa-info-square\\\"></i>Party</strong>\\r\\n                    </div>\\r\\n                    <div class=\\\"card-body\\\">\\r\\n                        <app-info-panel [model]=\\\"infoPanelModel\\\"></app-info-panel>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"card\\\">\\r\\n                    <div class=\\\"card-header\\\">\\r\\n                        <strong><i class=\\\"fal fa-info-square\\\"></i>Lista dei Conti del Party</strong>\\r\\n                    </div>\\r\\n                    <div class=\\\"card-body\\\">\\r\\n                        <app-generic-table *ngIf=\\\"showTableConti\\\" [model]=\\\"contiModel\\\"></app-generic-table>\\r\\n                        <br/>\\r\\n                        <div class=\\\"row\\\" *ngIf=\\\"showButtonAggiungiConto\\\">\\r\\n                            <div class=\\\"col-9\\\"></div>\\r\\n                            <div class=\\\"col-3\\\">\\r\\n                                <button class=\\\"btn btn-block btn-primary\\\" type=\\\"button\\\" (click)=\\\"goToInserimentoConto()\\\">Aggiungi Conto</button>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"card\\\" *ngIf=\\\"!!isAnsy\\\">\\r\\n                    <div class=\\\"card-header\\\">\\r\\n                        <strong><i class=\\\"fal fa-info-square\\\"></i>Lista dei Conti del Party As Settlment Bank</strong>\\r\\n                    </div>\\r\\n                    <div class=\\\"card-body\\\">\\r\\n                        <app-generic-table *ngIf=\\\"showTableContiAsSettlemnetBank\\\" [model]=\\\"contiAsSettlemnetBankModel\\\"></app-generic-table>\\r\\n                        <br/>\\r\\n                        <div class=\\\"row\\\" *ngIf=\\\"showButtonAssociaConto\\\">\\r\\n                            <div class=\\\"col-9\\\"></div>\\r\\n                            <div class=\\\"col-3\\\">\\r\\n                                <button class=\\\"btn btn-block btn-primary\\\" type=\\\"button\\\" (click)=\\\"goToAssociaConto()\\\">Associa Conto</button>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n                <div class=\\\"row mb-2\\\">\\r\\n                    <div class=\\\"col-3\\\">\\r\\n                        <button routerLink=\\\"{{backUrl}}\\\" [queryParams]=\\\"{back:true}\\\"class=\\\"btn btn-block btn-primary\\\" type=\\\"button\\\">Indietro</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n\\r\\n            </ng-container>\\r\\n\\r\\n            <ng-template #waiting>\\r\\n                <gepa-spinning-loader></gepa-spinning-loader>\\r\\n            </ng-template>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {RicercaPartiesComponent} from '../ricerca-parties/ricerca-parties.component';\r\nimport {EUserRole} from '../../../../models';\r\nimport {SecurityService} from '../../../../services';\r\nimport {DettaglioPartyComponent} from './dettaglio-party.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    data: {\r\n      title: 'Dettaglio Party',\r\n    },\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: DettaglioPartyComponent,\r\n        data: {\r\n          title: '',\r\n          roles: [EUserRole.ANAGRAFICHE_SPI, EUserRole.ANAGRAFICHE_BIL, EUserRole.ANAGRAFICHE_VISUALIZZATORE]\r\n        },\r\n        canActivate: [SecurityService],\r\n      },\r\n      {\r\n        path: 'dettaglio-conto',\r\n        loadChildren: () => import('./../../conti/dettaglio-conto/dettaglio-conto.module').then(m => m.DettaglioContoModule)\r\n      },\r\n      {\r\n        path: 'sfruttamento',\r\n        loadChildren: () => import('../../conti/sfruttamento-ansy/sfruttamento-ansy.module').then(m => m.SfruttamentoAnsyModule)\r\n      },\r\n      {\r\n        path: 'inserimento-conto',\r\n        loadChildren: () => import('../../conti/inserimento-conto/inserimento-conto.module').then(m => m.InserimentoContoModule)\r\n      }\r\n      ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class DettaglioPartyRoutingModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuLi8uLi92aWV3cy9hbmFncmFmaWNoZS9wYXJ0aWVzL2RldHRhZ2xpby1wYXJ0eS9kZXR0YWdsaW8tcGFydHkuY29tcG9uZW50LnNjc3MifQ== */\"","import {Component, OnInit, ViewEncapsulation} from '@angular/core';\r\nimport {InfoPanelElement, InfoPanelModel, Style, Tooltip} from '../../../../models/info-panel-model';\r\nimport {AbstractPartyComponent} from '../abstract-party.component';\r\nimport {ActivatedRoute, NavigationExtras, Router} from '@angular/router';\r\nimport {PartyService} from '../../../../services/party.service';\r\nimport {FilialeService} from '../../../../services/filiale.service';\r\nimport {SecurityService, UserService} from '../../../../services';\r\nimport {FilterUtils} from '../../../../utilities/filterUtils';\r\nimport {FormatterUtils} from '../../../../utilities/formatterUtils';\r\nimport {FormBuilder} from '@angular/forms';\r\nimport {TaskService} from '../../../../services/task.service';\r\nimport {ModalService} from 'scam-bdi-uikit';\r\nimport {forkJoin, of} from 'rxjs';\r\nimport {catchError, tap} from 'rxjs/operators';\r\nimport {ContoService} from '../../../../services/conto.service';\r\nimport {Party} from '../../../../models/party';\r\nimport {GenericTableModel} from '../../../../models/generic-table-model';\r\nimport {GenericActionRenderComponent} from '../../generic-action-render/generic-action-render.component';\r\nimport {ActionRenderModel, ButtonModel} from '../../../../models/action-render-model';\r\nimport {Conto, InserimentoContoModel} from '../../../../models/conto';\r\nimport {get} from 'lodash';\r\nimport {RoutingService} from '../../../../services/routing.service';\r\nimport {TipoContoEnum, TipoPartyEnum} from '../../../../models/enum';\r\nimport {ContoAsSettlmentBank} from '../../../../models/sfruttamento-dca';\r\n\r\n@Component({\r\n    selector: 'app-dettaglio-party',\r\n    templateUrl: './dettaglio-party.component.html',\r\n    styleUrls: ['./dettaglio-party.component.scss']\r\n})\r\nexport class DettaglioPartyComponent extends AbstractPartyComponent implements OnInit {\r\n\r\n    infoPanelModel: InfoPanelModel;\r\n    contiModel: GenericTableModel;\r\n    contiAsSettlemnetBankModel: GenericTableModel;\r\n    showTableConti = false;\r\n    showTableContiAsSettlemnetBank = false;\r\n    showButtonAggiungiConto = false;\r\n    showButtonAssociaConto = false;\r\n    party: Party;\r\n    isAnsy: boolean = false;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        protected partyService: PartyService,\r\n        protected filialeService: FilialeService,\r\n        protected securityService: SecurityService,\r\n        protected userService: UserService,\r\n        private contiService: ContoService,\r\n        private filterUtils: FilterUtils,\r\n        protected formatterUtils: FormatterUtils,\r\n        private formBuilder: FormBuilder,\r\n        private taskService: TaskService,\r\n        private modalService: ModalService,\r\n        protected route: ActivatedRoute,\r\n        protected routingService: RoutingService\r\n    ) {\r\n        super(partyService, filialeService, securityService, userService, formatterUtils, routingService, route);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.checkUserSpi();\r\n\r\n        this.route.queryParams.subscribe(params => {\r\n            const detailPartySessionObj = this.getSession(this.routingService.PARTY_DETAIL);\r\n            if (!!detailPartySessionObj) {\r\n                this.loadSections(detailPartySessionObj.idParty);\r\n                this.backUrl = this.backUrl = this.routingService.getRouteByKey(detailPartySessionObj.backUrl);\r\n            } else {\r\n                this.setError();\r\n            }\r\n        });\r\n    }\r\n\r\n    private loadSections (idParty: string) {\r\n        this.showSpinner();\r\n\r\n        const getParty = this.partyService.getParty(idParty).pipe();\r\n        const getConti = this.contiService.getContiOfParty(idParty);\r\n        const getContiAsSettlmentBank = this.contiService.getContiAsSettlmentBankOfParty(idParty);\r\n        const calls = [getParty, getConti, getContiAsSettlmentBank];\r\n\r\n        forkJoin(calls).pipe (\r\n            tap( res => {\r\n                this.party = <Party> res [0];\r\n                const conti = <Conto[]> res [1];\r\n                const contiAsSettlmentBank = <ContoAsSettlmentBank[]> res [2];\r\n\r\n                this.buildPartySection();\r\n                if (!!conti && conti.length > 0 ) {\r\n                    this.buildContiSection(conti);\r\n                }\r\n                if (!!contiAsSettlmentBank && contiAsSettlmentBank.length > 0 ) {\r\n                    this.buildContiAsSettlementBankSection(contiAsSettlmentBank);\r\n                }\r\n                this.hideSpinner();\r\n            }),\r\n            catchError((error) => {\r\n                console.log ('Error - loadSections', error);\r\n                this.setError();\r\n                this.hideSpinner();\r\n                return of(null);\r\n            })\r\n        ).subscribe();\r\n    }\r\n\r\n    private buildPartySection() {\r\n        const data = [\r\n            [this.buildInfoPanelElement('Party Bic', 'string',  this.party, 'bic'), this.buildInfoPanelElement('Tipo Party', 'string', this.party, 'tipoParty.descrizione')],\r\n            [this.buildInfoPanelElement('Nome Party', 'string', this.party, 'nome'), this.buildInfoPanelElement('ABI', 'string', this.party, 'defaultAbi')],\r\n            [this.buildInfoPanelElement('Filiale Riferimento', 'string', this.party, 'filialeRiferimento.descrizione'), this.buildInfoPanelElement('MFI COde', 'string', this.party, 'mfiCode' )],\r\n            [this.buildInfoPanelElement('Indicatore di Residenza', 'string', this.party, 'indicatoreResidenza'), this.buildInfoPanelElement('Categoria Economica', 'string', this.party, 'categoriaEconomica')],\r\n            [this.buildInfoPanelElement('Data Apertura Party', 'date', this.party, 'dataApertura'), this.buildInfoPanelElement('Data Chiusura Party', 'date', this.party, 'dataChiusura')],\r\n            [this.buildInfoPanelElement('Data Inizio Validità Record', 'date', this.party, 'validFrom'), this.buildInfoPanelElement('Data Fine Validità Record', 'date', this.party, 'validTo')],\r\n            [this.buildInfoPanelElement('Utente Inserimento/Modifica', 'string', this.party, 'utenteRichiesta'), this.buildInfoPanelElement('Utente Approvatore', 'string', this.party, 'utenteValidazione')]\r\n        ];\r\n\r\n        this.infoPanelModel = <InfoPanelModel> {\r\n            columnNumber: 2,\r\n            data: data\r\n        };\r\n\r\n        if (this.isPartyActive(this.party)) {\r\n            this.showButtonAggiungiConto =  this.userIsSpi;\r\n            this.showButtonAssociaConto = this.userIsSpi;\r\n        }\r\n\r\n        if (this.party.tipoParty.codice == TipoPartyEnum.ANSY) {\r\n            this.isAnsy = true;\r\n        }\r\n    }\r\n\r\n    private buildContiSection(conti: Conto[]) {\r\n        this.contiModel = this.buildModelConti();\r\n        this.contiModel.gridOptions.onGridReady = () => this.initializeGridConti();\r\n        this.contiModel.rowData = conti;\r\n        this.showTableConti = true;\r\n    }\r\n\r\n    private buildContiAsSettlementBankSection(conti: ContoAsSettlmentBank[]) {\r\n        this.contiAsSettlemnetBankModel = this.buildModelConti();\r\n        this.contiAsSettlemnetBankModel.gridOptions.onGridReady = () => this.initializeGridContiAsSettlmentBank();\r\n        this.contiAsSettlemnetBankModel.rowData = this.flat(conti);\r\n        this.showTableContiAsSettlemnetBank = true;\r\n    }\r\n\r\n    private flat (conti: ContoAsSettlmentBank[]) {\r\n        const flattenConti = [];\r\n        conti.forEach( (c: ContoAsSettlmentBank) => flattenConti.push( { ...c.conto, idSfruttamento: ( !!c.sfruttamentoDca ? c.sfruttamentoDca.id : null), validToSfruttamento: ( !!c.sfruttamentoDca ? c.sfruttamentoDca.validTo : null)}));\r\n        return flattenConti;\r\n    }\r\n\r\n    private buildModelConti() {\r\n        return <GenericTableModel> {\r\n            domLayout: 'autoHeight',\r\n            gridOptions: {\r\n                rowHeight: 30,\r\n                paginationPageSize: 10,\r\n                defaultColDef: {\r\n                    sortable: true\r\n                },\r\n                context: {\r\n                    componentParent: this\r\n                },\r\n                onGridReady: () => this.initializeGridConti()\r\n            },\r\n            rowData: [],\r\n            pagination: true,\r\n            columnsFitAvailable: true,\r\n            columnDefs: this.buildColumnDefConti(),\r\n            enableCsvExport: false,\r\n            enablePdfExport: false,\r\n            enableColumnSelection: false,\r\n            enableMessageEmptyResult: false\r\n        };\r\n    }\r\n\r\n    private initializeGridConti(): void {\r\n        this.contiModel.gridOptions.api.sizeColumnsToFit();\r\n        this.contiModel.gridOptions.onGridSizeChanged = evt =>  this.contiModel.gridOptions.api ?  this.contiModel.gridOptions.api.sizeColumnsToFit() : null;\r\n    }\r\n\r\n    private initializeGridContiAsSettlmentBank(): void {\r\n        this.contiAsSettlemnetBankModel.gridOptions.api.sizeColumnsToFit();\r\n        this.contiAsSettlemnetBankModel.gridOptions.onGridSizeChanged = evt =>  this.contiAsSettlemnetBankModel.gridOptions.api ?  this.contiAsSettlemnetBankModel.gridOptions.api.sizeColumnsToFit() : null;\r\n    }\r\n\r\n    private buildColumnDefConti() {\r\n        let order = 0;\r\n        return  [\r\n            {colId: ('id_' + order++), headerName: 'BIC',               field: 'bic',                     filter: false, sortable: false, resizable: true, exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'TARGET SERVICE',    field: 'targetService',           filter: false, sortable: false, resizable: true, exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'TIPO ',             field: 'tipoConto.descrizione',   filter: false, sortable: false, resizable: true, exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'DESCRIZIONE',       field: 'descrizione',             filter: false, sortable: false, resizable: true, exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'ACCOUNT ID',        field: 'numeroConto',             filter: false, sortable: false, resizable: true, exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'ABI',               field: 'abi',                     filter: false, sortable: false, resizable: true, exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'DATA APERTURA',     field: 'dataApertura',            filter: false, sortable: false, resizable: true, valueGetter: (data)  => this.formatterUtils.formatDate(data.data, 'dataApertura'), exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'DATA CHIUSURA',     field: 'dataChiusura',            filter: false, sortable: false, resizable: true, valueGetter: (data)  => this.formatterUtils.formatDate(data.data, 'dataChiusura'), exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'INIZIO VALIDITA\\'', field: 'validFrom',               filter: true,  sortable: true,  resizable: true, valueGetter: (data)  => this.formatterUtils.formatDate(data.data, 'validFrom'), exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'FINE VALIDITA\\'',   field: 'validTo',                 filter: true,  sortable: true,  resizable: true, valueGetter: (data)  => this.formatterUtils.formatDate(data.data, 'validTo'), exportOptions: {skipColumn: false}},\r\n            {colId: ('id_' + order++), headerName: 'AZIONI',            field: '',                        resizable: true, cellRendererFramework: GenericActionRenderComponent, cellRendererParams: {modelFn: this.buildActionRenderModelConti.bind(this)}, sortable: false, exportOptions: {skipColumn: true}, minWidth: 150}\r\n        ];\r\n    }\r\n\r\n    private buildActionRenderModelConti(data): ActionRenderModel {\r\n        const detailButton = <ButtonModel> {\r\n            label: 'Visualizza dettaglio Conto '.concat(data.numeroConto),\r\n            routerLink: '/anagrafiche/parties/dettaglio/dettaglio-conto',\r\n            params: {idConto: data.id, backUrl: this.routingService.PARTY_DETAIL},\r\n            enabled: true,\r\n            sessionKey : this.routingService.CONTO_DETAIL\r\n        };\r\n\r\n        let deleteButton = null;\r\n        if ((((this.checkContoIsDCA(data) || this.checkContoIsCB(data)) && this.checkSfruttamentoDcaCbActive(data)) || (this.checkContoIsSubAccount(data) && this.checkSfruttamentoSubAccountActive(data))) && this.userIsSpi) {\r\n            deleteButton = <ButtonModel> {\r\n                label: 'Elimina Associazione Sfruttamento '.concat(data.numeroConto),\r\n                routerLink: this.routingService.getRouteByKey(this.routingService.CONTO_ELIMINA_ASSOCIAZIONE),\r\n                params: {idParty: this.party.id, idConto: data.id, idSfruttamento: data.idSfruttamento, dataInizioSfruttamento: data.validFrom, wizardSteps: []},\r\n                enabled: this.isContoActive(data),\r\n                sessionKey : this.CONTO_ELIMINA_ASSOCIA_SESSION\r\n            };\r\n        }\r\n\r\n        return <ActionRenderModel> {\r\n            detailButton: detailButton,\r\n            modifyButton: null,\r\n            deleteButton: deleteButton\r\n        };\r\n    }\r\n\r\n    checkSfruttamentoDcaCbActive(conto): boolean {\r\n        const validTo = new Date(this.formatterUtils.formatDate(conto, 'validToSfruttamento'));\r\n        const today = new Date();\r\n        return (validTo >= today);\r\n    }\r\n\r\n    checkSfruttamentoSubAccountActive(conto): boolean {\r\n        const validTo = new Date(this.formatterUtils.formatDate(conto, 'validTo'));\r\n        const today = new Date();\r\n        return (validTo >= today);\r\n    }\r\n\r\n    goToInserimentoConto() {\r\n        const route = '/anagrafiche/parties/dettaglio/inserimento-conto/step2';\r\n        const inserimentoContoModel = {\r\n            idParty: this.party.id,\r\n            pressoBDI: true,\r\n            prefixUrl: '/anagrafiche/parties/dettaglio/inserimento-conto/',\r\n            wizardSteps: []\r\n        };\r\n        this.setSession(this.CONTO_INSERT_SESSION, inserimentoContoModel);\r\n        this.router.navigate([route], {});\r\n    }\r\n\r\n    goToAssociaConto() {\r\n        const associaContoModel = {idParty: this.party.id, wizardSteps: []};\r\n        this.setSession(this.routingService.PARTY_DETAIL, {idParty: this.party.id} );\r\n        this.setSession(this.CONTO_ASSOCIA_SESSION, associaContoModel);\r\n        const route = this.routingService.getRouteByKey(this.routingService.CONTO_ASSOCIA_STEP1);\r\n        this.router.navigate([route], {});\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DettaglioPartyRoutingModule } from './dettaglio-party-routing.module';\r\nimport {PartiesRoutingModule} from '../parties-routing.module';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {BDIAlertModule, BDIDatagridModule, BDIDatepickerModule} from 'scam-bdi-uikit';\r\nimport {GenericTableModule} from '../../generic-table/generic-table.module';\r\nimport {InfoPanelModule} from '../../info-panel/info-panel.module';\r\nimport {GenericActionRenderComponent} from '../../generic-action-render/generic-action-render.component';\r\nimport { BDITooltipModule, TooltipDirective } from 'scam-bdi-uikit';\r\nimport {GenericActionRenderModule} from '../../generic-action-render/generic-action-render.module';\r\nimport {DettaglioPartyComponent} from './dettaglio-party.component';\r\nimport {GepaGuiCommonModule} from '../../../../common/gepagui-common.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [DettaglioPartyComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DettaglioPartyRoutingModule,\r\n    GepaGuiCommonModule,\r\n    ReactiveFormsModule,\r\n    BDIAlertModule.forRoot(),\r\n    BDIDatepickerModule,\r\n    FormsModule,\r\n    GenericTableModule,\r\n    InfoPanelModule,\r\n    BDIDatagridModule.withComponents([\r\n      GenericActionRenderComponent,\r\n    ]),\r\n   BDITooltipModule.forRoot(),\r\n    GenericActionRenderModule\r\n  ]\r\n})\r\nexport class DettaglioPartyModule { }\r\n"],"sourceRoot":"webpack:///"}